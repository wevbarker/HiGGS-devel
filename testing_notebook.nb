(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      8496,        212]
NotebookOptionsPosition[      7915,        192]
NotebookOutlinePosition[      8391,        210]
CellTagsIndexPosition[      8348,        207]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["HiGGS testing notebook", "Title",
 CellChangeTimes->{{3.856165344530184*^9, 
  3.856165360586437*^9}},ExpressionUUID->"77b3805d-060b-4070-8508-\
41576cdf0004"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"Start", " ", "timing"}], "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"StartTime", "=", 
     RowBox[{"AbsoluteTime", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Load", " ", "the", " ", "package"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Needs", "[", "\"\<xAct`HiGGS`\>\"", "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Build", " ", "the", " ", "HiGGS", " ", "environment"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"BuildHiGGS", "[", "]"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Define", " ", "the", " ", "theory"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"DefTheory", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Alp1", "\[Equal]", "0"}], ",", 
       RowBox[{"Alp2", "\[Equal]", "0"}], ",", 
       RowBox[{"Alp3", "\[Equal]", "0"}], ",", 
       RowBox[{"Alp4", "\[Equal]", "0"}], ",", 
       RowBox[{"Alp6", "\[Equal]", "0"}], ",", 
       RowBox[{"Bet1", "==", "0"}], ",", 
       RowBox[{"Bet2", "\[Equal]", "0"}], ",", 
       RowBox[{"cAlp1", "==", "0"}], ",", 
       RowBox[{"cAlp2", "\[Equal]", "0"}], ",", 
       RowBox[{"cAlp3", "\[Equal]", "0"}], ",", 
       RowBox[{"cAlp4", "\[Equal]", "0"}], ",", 
       RowBox[{"cAlp5", "\[Equal]", "0"}], ",", 
       RowBox[{"cAlp6", "\[Equal]", "0"}], ",", 
       RowBox[{"cBet1", "\[Equal]", "0"}], ",", 
       RowBox[{"cBet2", "\[Equal]", "0"}], ",", 
       RowBox[{"cBet3", "\[Equal]", "0"}]}], "}"}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"Print", "[", "$IfConstraints", "]"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Quit", "[", "]"}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "List", " ", "of", " ", "constraints", " ", "with", " ", "fresh", " ", 
     "indices", " ", "for", " ", "PBs"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"IndIfConstraints", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"#", "~", "ChangeFreeIndices", "~", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "l"}], ",", 
             RowBox[{"-", "m"}], ",", 
             RowBox[{"-", "n"}]}], "}"}], "~", "Take", "~", 
           RowBox[{"Length", "@", 
            RowBox[{"FindFreeIndices", "@", "#"}]}]}], ")"}]}], ")"}], "&"}], 
      "/@", "$IfConstraints"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "Evaluate", " ", "lots", " ", "of", " ", "Poisson", " ", "brackets"}], 
    "*)"}], "\[IndentingNewLine]", 
   RowBox[{"PrimaryPoissonMatrix", "=", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"$IfConstraints", "[", 
         RowBox[{"[", "ii", "]"}], "]"}], ",", 
        RowBox[{"IndIfConstraints", "[", 
         RowBox[{"[", "jj", "]"}], "]"}], ",", 
        RowBox[{"PoissonBracket", "[", 
         RowBox[{
          RowBox[{"$IfConstraints", "[", 
           RowBox[{"[", "ii", "]"}], "]"}], ",", 
          RowBox[{"IndIfConstraints", "[", 
           RowBox[{"[", "jj", "]"}], "]"}]}], "]"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"ii", ",", 
        RowBox[{"Length", "@", "$IfConstraints"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"jj", ",", "ii", ",", 
        RowBox[{"Length", "@", "$IfConstraints"}]}], "}"}]}], "]"}]}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Evaluate", " ", "some", " ", "velocities"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Vel", "=", 
      RowBox[{"Velocity", "[", 
       RowBox[{"PhiB0p", "[", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
    "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Stop", " ", "timing"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"EndTime", "=", 
     RowBox[{"AbsoluteTime", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"TotTime", "=", 
     RowBox[{"EndTime", "-", "StartTime"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Print", "[", 
     RowBox[{"\"\<Time taken is: \>\"", ",", "TotTime"}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", "*)"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"save", " ", "to", " ", "a", " ", "mx", " ", "cache"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"DumpSave", "[", 
     RowBox[{
      RowBox[{"FileNameJoin", "@", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Directory", "[", "]"}], ",", "\"\<tests.mx\>\""}], "}"}]}], 
      ",", 
      RowBox[{"{", 
       RowBox[{"TotTime", ",", "PrimaryPoissonMatrix"}], "}"}]}], "]"}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Quit", "[", "]"}], ";"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.8561134940016623`*^9, 3.856113563953445*^9}, {
   3.856113864152964*^9, 3.856113866735909*^9}, {3.856114686146227*^9, 
   3.856114722201364*^9}, {3.8561147534818153`*^9, 3.856114786785334*^9}, {
   3.8561150379530697`*^9, 3.8561150382066393`*^9}, {3.856115132575592*^9, 
   3.856115149455024*^9}, 3.856165332453063*^9, {3.856165412953887*^9, 
   3.856165493969346*^9}, {3.856165882551499*^9, 3.8561659681267014`*^9}, {
   3.856252550417321*^9, 3.856252550671973*^9}, {3.856253384785056*^9, 
   3.856253537238635*^9}, {3.856253871827731*^9, 3.856253912977112*^9}, {
   3.856266135351696*^9, 3.85626613949498*^9}, {3.856330112716134*^9, 
   3.856330148356846*^9}, {3.856334077806583*^9, 3.85633412540273*^9}, {
   3.8563374211690483`*^9, 3.8563375146333323`*^9}, {3.8563713031675777`*^9, 
   3.8563713066542683`*^9}, {3.856407380427725*^9, 3.856407391803412*^9}, {
   3.856407608764429*^9, 3.8564076196720247`*^9}, 3.856407752091467*^9, 
   3.856407826016653*^9, 3.856407902750139*^9, {3.85640794860667*^9, 
   3.8564079506166077`*^9}, {3.8564080331074467`*^9, 3.856408035278562*^9}, 
   3.856408749583098*^9, {3.8564088204491577`*^9, 3.856408851243552*^9}, {
   3.856408937610999*^9, 3.856408958571206*^9}, 3.856426594371249*^9, {
   3.856546771934794*^9, 3.856546780533009*^9}, {3.856547050566327*^9, 
   3.856547182411356*^9}, {3.8565472180334578`*^9, 3.8565472297545033`*^9}, {
   3.856547261019403*^9, 3.856547319535778*^9}, {3.856547389634677*^9, 
   3.856547415811049*^9}, {3.856547502452675*^9, 3.8565475402935333`*^9}, {
   3.856547935615954*^9, 3.856547996958641*^9}, {3.8565480427427683`*^9, 
   3.856548130126974*^9}, {3.856548174271737*^9, 3.856548238495077*^9}, {
   3.856548994305244*^9, 3.856549018994968*^9}, {3.856549639533609*^9, 
   3.856549677197238*^9}, {3.856550750202263*^9, 3.856550754237236*^9}, {
   3.856584484801955*^9, 3.856584543913227*^9}, {3.856584817941999*^9, 
   3.856584869979888*^9}, 3.856585073668594*^9, {3.85658620385732*^9, 
   3.856586205956044*^9}, {3.856588920521818*^9, 3.856588921557769*^9}, 
   3.856588960476514*^9},ExpressionUUID->"ecfae8f8-9928-4519-ae15-\
3f06f02b8c48"]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{1440., 770.25},
WindowMargins->{{0, Automatic}, {Automatic, -790.5}},
TaggingRules-><|"TryRealOnly" -> False|>,
FrontEndVersion->"13.0 for Linux x86 (64-bit) (December 2, 2021)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"547ac015-5919-465b-b9b8-be1a6be62c98"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 165, 3, 98, "Title",ExpressionUUID->"77b3805d-060b-4070-8508-41576cdf0004"],
Cell[748, 27, 7151, 162, 644, "Input",ExpressionUUID->"ecfae8f8-9928-4519-ae15-3f06f02b8c48",
 InitializationCell->True]
}, Open  ]]
}
]
*)

